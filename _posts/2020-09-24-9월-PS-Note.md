---
layout: post
title:  "9월 PS Note"
use_math: true
---

### Summary(solved.ac 난이도)
* 민혁이의 게임 파티: P2
* 컵과 구슬: D5
* Tarot Sham Boast: D1
* 조명등: P1

***

### [BOJ 16976 - 민혁이의 게임 파티](https://www.acmicpc.net/problem/16976)
만약 게임의 종류가 하나라면, 모든 사람이 연결될 때가 정답이다. 이는 union-find를 이용하여 해결할 수 있다. 각 집합마다 집합의 크기를 저장하고 처음으로 크기가 $N$이 되는 순간을 구하면 된다.

게임의 종류가 늘어나면, 각 게임 종류마다 크기를 따로 저장해야 한다. 그 다음 두 사람이 이어질 때마다 각 집합에 속한 게임 종류의 개수가 전체 개수와 같은지를 확인하면 된다. 이를 naive하게 하면 $O(QM)$ 정도의 시간으로 해결할 수 있다.

이를 효율적으로 하려면, 집합을 합쳐줄 때 작은 집합에서 큰 집합으로 합쳐주면 된다. 이러면 합치는 횟수를 $O(N\log{N})$ 이하를 보장할 수 있고, 시간복잡도 $O(Q\log{M^2})$로 해결할 수 있다. 이와는 다르게 병렬 이분 탐색을 통해서도 같은 시간복잡도로 해결할 수 있다.

### [BOJ 14845 - 컵과 구슬](https://www.acmicpc.net/problem/14845)
가운데에 있을 수를 결정하면, 그 이상의 수를 1로, 미만의 수를 0으로 설정하자. 그렇다면 한 번의 쿼리마다 0과 1이 서로 모여있는 형태로 변할 것이다. 이 작업은 0, 1로만 이루어진 구간을 관리하면 빠르게 수행할 수 있다. 이런 식으로 가운데에 위치한 수가 1인지 0인지 알 수 있다. 이제 가운데에 있을 수를 이분탐색으로 결정해주면 해결할 수 있다.

### [BOJ 14643 - Tarot Sham Boast](https://www.acmicpc.net/problem/14643)
단순하게 생각해보면, 'aaaa'보다 'abcd'가 더 많이 등장하는 것을 알 수 있다. 몇 가지 경우를 더 해보면, prefix와 suffix가 겹치는 것이 많을수록 등장 횟수가 적은 것을 알 수 있다. 문자열 $S$의 길이 $i$인 prefix와 suffix를 모두 모은 집합을 $f(S)$라 하면, $f(S)$를 내림차순으로 정렬하고 이를 모든 문자열에 대해 다시 사전순 역순으로 정렬한 것이 답이 된다. 이유는, 길이 $i$인 문자열에 대해 어떤 문자열 $S$가 등장하지 않는 수를 생각하면 점화식의 꼴이 $f(S)$의 최댓값이 클수록 더 작게 나오는 것을 알 수 있다. 증명은 못했지만 이를 이용해 모든 문자열에 대해 $f(S)$를 $O(|S|)$만에 구해주면 된다. 실제로 이의 정당성을 증명하는 건 굉장히 어렵다고 하니 공식 솔루션을 확인해보시길 추천한다.

### [BOJ 19943 - 조명등](https://www.acmicpc.net/problem/19943)
어떤 구간 $[s, e]$를 모두 비추는 조명이 $(x, y)$에 있다고 하자. 이때 $x+y$는 $max(x_s+y_s, x_{s+1}+y_{s+1}, ..., x_e+y_e)$이며 마찬가지로 $x-y$는 $max(x_s-y_s, x_{s+1}-y_{s+1}, ..., x_e-y_e)$이다. 또한 이때 조명이 비추는 영역의 넓이는 $y^2$이다. 이를 이용하면 $O(N^2)$ 동적계획법을 쉽게 유도할 수 있다.

이를 좀 더 최적화하자. 먼저 어떤 조각품이 다른 조각품에 의해 비춰질 수 있으면, 그 조각품은 제거해도 무방하다. 이렇게 하면 구간 $[s, e]$를 비추는 조명의 좌표는 $s$, $e$번째 조각품의 좌표만으로 알 수 있다. 이때 $dp(i)$를 $i$번째 조각품까지 고려했을 때의 최소 비용이라고 하면, $(y_i-x_i)$에 대한 일차식의 형태로 점화식을 얻을 수 있다. 이를 Convex Hull Trick을 이용해 계산하면, 삽입되는 직선의 기울기와 $x$좌표가 모두 단조증가하므로 $O(N)$ 시간복잡도에 해결할 수 있다.


***