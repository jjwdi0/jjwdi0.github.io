<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/style.css">
<title>SCPC 2차 예선 풀이</title>
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>SCPC 2차 예선 풀이 | Programming Notes</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="SCPC 2차 예선 풀이" />
<meta name="author" content="Jeong Deokin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Summary(score, AC time) 실력 맞추기: 100, 01:38:54 고구마: 150, 01:18:26 아르바이트: 200, 03:25:31 안전운전: 250, 07:12:35 삼각형의 거리: 47, 03:33:55" />
<meta property="og:description" content="Summary(score, AC time) 실력 맞추기: 100, 01:38:54 고구마: 150, 01:18:26 아르바이트: 200, 03:25:31 안전운전: 250, 07:12:35 삼각형의 거리: 47, 03:33:55" />
<link rel="canonical" href="http://localhost:4000/posts/8%EC%9B%94-SCPC-2%EC%B0%A8-%EC%98%88%EC%84%A0-%ED%92%80%EC%9D%B4/" />
<meta property="og:url" content="http://localhost:4000/posts/8%EC%9B%94-SCPC-2%EC%B0%A8-%EC%98%88%EC%84%A0-%ED%92%80%EC%9D%B4/" />
<meta property="og:site_name" content="Programming Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-05T00:00:00+09:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/posts/8%EC%9B%94-SCPC-2%EC%B0%A8-%EC%98%88%EC%84%A0-%ED%92%80%EC%9D%B4/","headline":"SCPC 2차 예선 풀이","dateModified":"2020-09-05T00:00:00+09:00","datePublished":"2020-09-05T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/8%EC%9B%94-SCPC-2%EC%B0%A8-%EC%98%88%EC%84%A0-%ED%92%80%EC%9D%B4/"},"author":{"@type":"Person","name":"Jeong Deokin"},"description":"Summary(score, AC time) 실력 맞추기: 100, 01:38:54 고구마: 150, 01:18:26 아르바이트: 200, 03:25:31 안전운전: 250, 07:12:35 삼각형의 거리: 47, 03:33:55","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		TeX: {
		  equationNumbers: {
			autoNumber: "AMS"
		  }
		},
		tex2jax: {
		inlineMath: [ ['$', '$'] ],
		displayMath: [ ['$$', '$$'] ],
		processEscapes: true,
	  }
	});
	MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
		  alert("Math Processing Error: "+message[1]);
		});
	MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
		  alert("Math Processing Error: "+message[1]);
		});
</script>
<script type="text/javascript" async
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
  
</head>
<body>
  <header class="texture-black">
    <div class="container"><div class="navbar">
	<ul>
		<a href="/"><li>Home</li></a>
		<a href="/about/"><li>About</li></a>
	</ul>
</div></div><div class="container">
	<h1>SCPC 2차 예선 풀이</h1>
	<h4 class="post-description"></h4>
	<div class="post-date" style="margin-top:20px">
		Published on Sep 5, 2020
	</div>
	<ul class="post-tags"></ul>
</div>
</header>
  <main>
    <div class="container">
      <div class="post-container">
          <h3 id="summaryscore-ac-time">Summary(score, AC time)</h3>
<ul>
  <li>실력 맞추기: 100, 01:38:54</li>
  <li>고구마: 150, 01:18:26</li>
  <li>아르바이트: 200, 03:25:31</li>
  <li>안전운전: 250, 07:12:35</li>
  <li>삼각형의 거리: 47, 03:33:55</li>
</ul>

<hr />

<h3 id="1-실력-맞추기">1. 실력 맞추기</h3>
<p>$A$에서 어느 것도 바꾸지 않을 때의 최적해는, $A$와 $B$를 정렬한 후 앞에서부터 매칭하는 것이다. 또한 $A$에서 값 하나를 바꿀 때, 바꾼 결과값은 $B$의 값 중 하나임이 최적이다. 이 두 가지 사실로, $A$와 $B$에서 각각 하나씩 골라 값을 같게 하고, 다른 원소들을 정렬해 앞에서부터 매칭하면서 거리를 세어 주면서 답을 갱신하면 $O(N^3)$으로 서브태스크 1을 해결할 수 있다.</p>

<p>위 풀이를 잘 발전시키면 서브태스크 2도 맞을 수 있을 것 같은데, 여기서 주목해야 할 것은 $A_i$와 $B_j$의 값을 같게 조정한 경우 각각의 값들이 매칭되는 값이다. 편의상 $i&lt;j$라 하면, $i&lt;k\leq j$인 모든 $k$에 대해 $A_k$와 $B_{k-1}$이 매칭된다. 즉 $A$에서 값 하나를 바꾸면 다른 값은 원래 매칭되는 값 또는 그 양 옆 값 중 하나와 매칭되게 된다. 이를 알면 $i$번째 원소가 $i-1$, $i$, $i+1$번째 원소와 매칭되었는지의 여부를 저장하여 동적계획법을 수행할 수 있다. 이 경우 시간복잡도 $O(N)$으로 전체 문제를 해결할 수 있다.</p>

<p>이 문제가 2번보다 어려운 것 같은데, 왜 1번인지는 잘 모르겠다. 이게 의도한 풀이가 아닐 수도…</p>

<h3 id="2-고구마">2. 고구마</h3>
<p>$S[i]:=A[1]+…+A[i]$라 하면, 구간 합 $A[s]+…+A[e]$는 $S[e]-S[s-1]$로 나타낼 수 있다. 구간 합을 $M$ 이하를 유지하면서 최대화하길 원하기 때문에, $S[i]$를 알면 허용되는 $S[j]$의 범위 역시 알 수 있다. ($j&lt;i$) 그러므로 누적합 배열과 이진 탐색을 통해 원하는 값을 빠르게 알아낼 수 있으며, $O(N\log{N})$으로 전체 문제를 해결할 수 있다. <code class="highlighter-rouge">std::set</code>을 사용하면 쉽게 구현할 수 있다.</p>

<h3 id="3-아르바이트">3. 아르바이트</h3>
<p>쿼리의 개수와 구간 크기가 작아 갱신을 하나하나 해줘도 시간 제한을 넘지 않는다. 길이 $K$인 모든 구간의 구간 합을 저장하고, 거기서 중간값을 알아내고, 원소를 추가 및 삭제를 빠르게 하면 되는 문제다.</p>

<p>이를 위해 C++의 Policy-Based Data Structure를 사용할 수 있다. 중간값을 구하는 것은 결국 $k$번째로 작은 숫자를 찾는 것이므로, pbds의 <code class="highlighter-rouge">find_by_order(x)</code> 함수를 사용하여 $O(\log{N})$만에 찾을 수 있다. 이 자료구조는 <code class="highlighter-rouge">std::multiset</code>처럼 원소 추가 및 삭제 연산도 $O(\log{N})$만에 수행할 수 있으므로 시간복잡도는 $O((N+QK)\log{N})$이다.</p>

<p>다만 위 풀이는 시간초과를 받을 확률이 높은데, STL에 구현되어있는 BBST들은 모두 시간복잡도 상에 포함되지 않는 연산이 매우 많아 예상보다 느리게 작동되기 때문이다. 이를 해결하기 위해 다른 자료구조를 사용해야 하는데, 가능한 구간 합의 결과들을 모두 구해놓고 좌표 압축을 한 후 세그먼트 트리를 이용해 $k$번째 원소를 빠르게 찾아주면 된다. 세그먼트 트리를 이용할 시 $O(\log{N})$, Fenwick Tree를 이용할 시 $O(\log^2{N})$에 해결할 수 있는데 대회 때는 구현이 빠른 BIT를 이용했다. 좌표압축을 효율적으로 해야 시간초과를 피할 수 있다.</p>

<h3 id="4-안전운전">4. 안전운전</h3>
<p>기하 문제인 것 같지만, 사실은 그렇지 않은 문제. 먼저 의미 있는 $y$좌표만 추려내보자. 왼쪽/오른쪽 경계의 세로 선분과 자동차 경로의 세로 선분만 보고 끝점들만 모으면 구간들을 더 작게 나눌 수 있다. 이렇게 하면, 자동차의 경로가 경계 안쪽인지를 쉽게 판별할 수 있다.</p>

<p>어떤 세로선의 $x$좌표를 $x=t$의 수직선으로 대칭시키면 어떻게 될까? 대칭 이동된 $x$좌표를 $x’$이라 하면 $x’=-x+2t$가 될 것이다. 즉 각 세로선에 대해 유효한 경계의 범위가 주어져있으면, 대칭이 일어나는 $t$의 값에 따라 경계 안에 있을 조건을 구할 수 있다. 이러한 조건은 $t$에 대한 구간 형태로 나오므로, 해당 구간에 세로선의 길이만큼을 더해준다고 생각하자.</p>

<p>위와 같은 작업을 모두 수행하면, 자동차의 경로를 아래에서부터 따라가보면서 가로선이 등장할 때마다 가로선의 범위 내에서 구간 최댓값을 구해주고, 이를 답에 반복적으로 갱신해주면 답을 구할 수 있다. 구간 업데이트 및 구간 쿼리를 지원해야 하므로, segment tree와 lazy propagation을 통해 구현할 수 있다. 문제 상황이 복잡하고 좌표 압축도 해줘야 하는 문제라 코딩이 복잡한 문제.</p>

<h3 id="5-삼각형의-거리">5. 삼각형의 거리</h3>
<p>주어진 다각형이 볼록다각형인 경우 <a href="https://www.acmicpc.net/problem/17977">이 문제</a>와 완전히 똑같은 문제이므로, 입력을 제외한다면 무려 $O(\log{N})$에 해결할 수 있다.</p>

<hr />

      </div>

        <!-- Configure Disqus --></div>
  </main><footer class="texture-black">
  <div class="container">
  <h3> 
    &copy;
    2020
    Programming Notes.
  </h3>
</div>
</footer>
</body>
</html>